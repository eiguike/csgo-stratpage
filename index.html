<html>
<!DOCTYPE html>
<head>
<style>
#testandoselecao{
  border: 1px solid black;
  width: 800px;
  height: 600px;
}
#testediv{

    border: 1px solid black;
    background-image: url(./maps/de_dust2.jpg);
    width: 716px;
    height: 788px;
}

</style>
<script src="./selecao.js"></script>
</head>
<body>

<div id="testediv" onmousemove="myFunction(event)" onmousedown="teste(event)" onmouseup="teste2(event)">
</div>

<p id="demo"></p>

<div id="testandoselecao" onmousemove="animacao(event)" onmousedown="iniciaselecao(event)" onmouseup="finalizaselecao(event)">
</div>



<script>
acumulador = 0;
function teste(e){
  comecox = 10 + e.pageX - document.getElementById('testediv').offsetLeft +"px";
  comecoy = 10 + e.pageY - document.getElementById('testediv').offsetTop +"px";

  var div = document.createElement("div");
  div.style.left = comecox;
  div.style.top = comecoy;
  div.style.position = "absolute";
  div.style.height = 2+"px";
  div.style.width = 2+"px";
  div.style.background = "red";
  div.style.color = "white";
  document.getElementById('testediv').appendChild(div);

  div.id = "div"+acumulador;

  flag = 1;
}
function teste2(e){
  var div = document.getElementById('div'+acumulador);
  flag = 0;
  div.innerHTML = window.prompt("Nome da ar√©a selecionada:","Hello world");
  acumulador = acumulador+1;
}

function myFunction(e) {
  if(flag == 1){
    var tamanhoy = e.pageX - parseInt(comecox);
    var tamanhox = e.pageY - parseInt(comecoy);
    var div = document.getElementById('div'+acumulador);

    if(tamanhox < 0){
      tamanhox *=-1;
    }
    if(tamanhoy < 0){
      tamanhoy*=-1;
    }
    div.style.height = tamanhox+'px';
    div.style.width = tamanhoy+'px';

  }
}

</script>

</body>
</html>
